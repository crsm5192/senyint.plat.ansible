- name: add group for nginx
  group: 
    name: '{{pl_group}}' 
    gid:  '{{pl_gid}}'

- name: add user for nginx
  user: 
    name:  '{{pl_user}}'
    group: '{{pl_group}}'    
    uid:   '{{pl_uid}}' 
    home:  '{{pl_home}}' 
    shell: /bin/bash

- name: make floder for use 
  file: 
    path:  '{{item.path}}' 
    owner: '{{item.owner}}' 
    group: '{{item.group}}' 
    mode: 0755 
    state: directory
  with_items:
    - { path: '{{pl_deploy_home}}/support',       owner: 'root',group: 'root' }
    - { path: '{{pl_home}}',                      owner: '{{pl_user}}',group: '{{pl_group}}' }
    - { path: '{{pl_home}}/nginx/conf/conf.d',    owner: '{{pl_user}}',group: '{{pl_group}}' }    
    - { path: '{{pl_home}}/nginx/conf/conf.d/ssl',owner: '{{pl_user}}',group: '{{pl_group}}' }
    - { path: '{{pl_home}}/nginx/conf/vhost.d',   owner: '{{pl_user}}',group: '{{pl_group}}' }  
#smaba path
pl_squid_home :  "{{ squid_home  | default('/home') }}"
pl_role_type :   "{{ role_type   | default('squid') }}"
pl_server_type : "{{ server_type | default('squid') }}"
pl_deploy_home : "{{ deploy_home | default('/home/deploy') }}" 
#samba user
pl_squid_user : "{{ squid_user  | default('squid') }}"
pl_squid_id :   "{{ squid_id   | default('3128') }}"
#samba deploy setting
pl_squid_port :    "{{ squid_port    | default('3128') }}"
pl_squid_version : "{{ squid_version | default('4.5') }}"
pl_squid_io:       "{{ squid_io      | default('240') }}"
pl_squid_lang:     "{{ squid_lang    | default('Simplify_Chinese') }}"

squid_compile:
  - { option: "prefix",           value: "{{pl_squid_home}}/{{pl_role_type}}/{{pl_server_type}}" }
  - { option: "with-default-user",value: "{{pl_squid_user}}" }
  - { option: "with-logdir",      value: "{{pl_squid_home}}/{{pl_role_type}}/{{pl_server_type}}/log" }
  - { option: "with-pidfile",     value: "{{pl_squid_home}}/{{pl_role_type}}/{{pl_server_type}}/run/squid.pid" }
  - { option: "sysconfdir",       value: "{{pl_squid_home}}/{{pl_role_type}}/{{pl_server_type}}/etc" }
  - { option: "localstatedir",    value: "{{pl_squid_home}}/{{pl_role_type}}/{{pl_server_type}}/var" }
  
squid_mode:
  - xmalloc-debug  
  - xmalloc-debug-trace  
  - xmalloc-statistics 
  - icmp  
  - delay-pools  
  - useragent-log  
  - kill-parent-hack   
  - linux-netfilter  
  - linux-tproxy  
  - htpc  
  - cache-digests  
  - follow-x-forwarded-for  
  - poll  
  - underscore  
  - gnuregex  
  - http_perl_module  
  - file-aio  
  - mail  
  - mail_ssl_module  
  - http_image_filter_module    
  - debug
  - stream
  - pcre-jit        

squid_ex_mode:
  - { option: "dlmalloc",    value: "/usr/local/lib" }
  - { option: "async-io",    value: "{{pl_squid_io}}" }
  - { option: "err-language",value: '"{{pl_squid_lang}}"' }
